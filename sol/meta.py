import json

# 假设你已经获取到的Solana交易JSON数据保存在交易字符串中
solana_transaction_json = '''
{"jsonrpc":"2.0","result":{"slot":302889897,"transaction":{"signatures":["3kSdQQ1XhgpmzButhYvH9mtiLWvTW7AH7nGCc8pucdrAHCfDsk43A78BdvCrEWobof7Se9ySiGeSiokMpmCHNfTW"],"message":{"accountKeys":[{"pubkey":"DNfuF1L62WWyW3pNakVkyGGFzVVhj4Yr52jSmdTyeBHm","writable":true,"signer":true},{"pubkey":"AqvWkY135BYtNyw2bftGnScWyYMdim8BVhoKrVDf9D6X","writable":true,"signer":false},{"pubkey":"EYtapYgX8PE9Hg8XQRsQ9RohksfWQXUpotCuDosBbMER","writable":true,"signer":false},{"pubkey":"Bm99GtoXnnY3Z17BqVo3Yqx6X2k45jrwiy7k4ceGgpFs","writable":true,"signer":false},{"pubkey":"2yJwU1eYrjJDhWPNaxEiDrvCfcN4JiFy3ssK5KPREGPT","writable":true,"signer":false},{"pubkey":"DNRyxM3TymiKdybx4Ro3JRVLrWFh9bcVuDqQQxkLnW99","writable":true,"signer":false},{"pubkey":"3fumHYiUUGmvkzvhnSbMbC5ZY3TSG5L6an177pEP7sws","writable":true,"signer":false},{"pubkey":"AwWStWyRDHPqvhfByB7CrcbYKKjkJrcPbhkJxk24oHE8","writable":true,"signer":false},{"pubkey":"24u5hS6iXqhVYcBUZEVsqLrxaEg4HN3gDMeCg31TeT4Z","writable":true,"signer":false},{"pubkey":"HpUaMSC5bAkWjc53YJ2KdfF7MBwMK4JeUUfA6pbBzXvg","writable":true,"signer":false},{"pubkey":"4xGffLY3NFfLY3GuUUvg7nYztddXoEUi2oC7dQxa8YDQ","writable":true,"signer":false},{"pubkey":"CE1DwrNGTtccxGAVKJnX3TriAmCSkbZN5boxbvWZWxZc","writable":true,"signer":false},{"pubkey":"5WFfzuVZTDXc6WXfSGWEdJjPXqx37DoR6JejmUM79aAg","writable":true,"signer":false},{"pubkey":"Cdd4xua6RkXZJ8SqiLidiuqZ55YGZHvcxTiSu3vWKkpC","writable":true,"signer":false},{"pubkey":"8G7rb3pXeLcEk2XZ2h7zcYTyC2g3NazGjQRzvr828TNX","writable":true,"signer":false},{"pubkey":"9yMwSPk9mrXSN7yDHUuZurAh1sjbJsfpUqjZ7SvVtdco","writable":true,"signer":false},{"pubkey":"ComputeBudget111111111111111111111111111111","writable":false,"signer":false},{"pubkey":"tro46jTMkb56A3wPepo5HT7JcvX9wFWvR8VaJzgdjEf","writable":false,"signer":false},{"pubkey":"11111111111111111111111111111111","writable":false,"signer":false},{"pubkey":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA","writable":false,"signer":false},{"pubkey":"So11111111111111111111111111111111111111112","writable":false,"signer":false},{"pubkey":"675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8","writable":false,"signer":false},{"pubkey":"5Q544fKrFoe6tsEbD7S8EmxGTJYAKtTVhAW5Q5pge4j1","writable":false,"signer":false},{"pubkey":"GWurZbbuzgBe12q8Gxs3u4AtxWjh1w2wpWUsGF6Pykg1","writable":false,"signer":false},{"pubkey":"SysvarRent111111111111111111111111111111111","writable":false,"signer":false},{"pubkey":"srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX","writable":false,"signer":false}],"recentBlockhash":"8n3evVqC4rDDGrVu9wEHn3WXBKPkZ9hRr4rurrUexDMs","instructions":[{"programId":"ComputeBudget111111111111111111111111111111","accounts":[],"data":"GYZYs1"},{"programId":"ComputeBudget111111111111111111111111111111","accounts":[],"data":"3hHan27gER8K"},{"programId":"tro46jTMkb56A3wPepo5HT7JcvX9wFWvR8VaJzgdjEf","accounts":["AqvWkY135BYtNyw2bftGnScWyYMdim8BVhoKrVDf9D6X","DNfuF1L62WWyW3pNakVkyGGFzVVhj4Yr52jSmdTyeBHm","SysvarRent111111111111111111111111111111111","11111111111111111111111111111111"],"data":"cmGPJQeeMnKRmKNrFpwUDf3Z2sh"},{"program":"system","programId":"11111111111111111111111111111111","parsed":{"info":{"base":"DNfuF1L62WWyW3pNakVkyGGFzVVhj4Yr52jSmdTyeBHm","lamports":2039280,"newAccount":"EYtapYgX8PE9Hg8XQRsQ9RohksfWQXUpotCuDosBbMER","owner":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA","seed":"Gkv8fGzYJjpC3BV7wnxfuG6qsJb6Gq8a","source":"DNfuF1L62WWyW3pNakVkyGGFzVVhj4Yr52jSmdTyeBHm","space":165},"type":"createAccountWithSeed"}},{"program":"spl-token","programId":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA","parsed":{"info":{"account":"EYtapYgX8PE9Hg8XQRsQ9RohksfWQXUpotCuDosBbMER","mint":"So11111111111111111111111111111111111111112","owner":"DNfuF1L62WWyW3pNakVkyGGFzVVhj4Yr52jSmdTyeBHm","rentSysvar":"SysvarRent111111111111111111111111111111111"},"type":"initializeAccount"}},{"programId":"675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8","accounts":["TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA","Bm99GtoXnnY3Z17BqVo3Yqx6X2k45jrwiy7k4ceGgpFs","5Q544fKrFoe6tsEbD7S8EmxGTJYAKtTVhAW5Q5pge4j1","2yJwU1eYrjJDhWPNaxEiDrvCfcN4JiFy3ssK5KPREGPT","DNRyxM3TymiKdybx4Ro3JRVLrWFh9bcVuDqQQxkLnW99","3fumHYiUUGmvkzvhnSbMbC5ZY3TSG5L6an177pEP7sws","AwWStWyRDHPqvhfByB7CrcbYKKjkJrcPbhkJxk24oHE8","srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX","24u5hS6iXqhVYcBUZEVsqLrxaEg4HN3gDMeCg31TeT4Z","HpUaMSC5bAkWjc53YJ2KdfF7MBwMK4JeUUfA6pbBzXvg","4xGffLY3NFfLY3GuUUvg7nYztddXoEUi2oC7dQxa8YDQ","CE1DwrNGTtccxGAVKJnX3TriAmCSkbZN5boxbvWZWxZc","5WFfzuVZTDXc6WXfSGWEdJjPXqx37DoR6JejmUM79aAg","Cdd4xua6RkXZJ8SqiLidiuqZ55YGZHvcxTiSu3vWKkpC","GWurZbbuzgBe12q8Gxs3u4AtxWjh1w2wpWUsGF6Pykg1","8G7rb3pXeLcEk2XZ2h7zcYTyC2g3NazGjQRzvr828TNX","EYtapYgX8PE9Hg8XQRsQ9RohksfWQXUpotCuDosBbMER","DNfuF1L62WWyW3pNakVkyGGFzVVhj4Yr52jSmdTyeBHm"],"data":"64Wk4yJp5Y2vMW8SRQPtfeF"},{"program":"spl-token","programId":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA","parsed":{"info":{"account":"EYtapYgX8PE9Hg8XQRsQ9RohksfWQXUpotCuDosBbMER","destination":"DNfuF1L62WWyW3pNakVkyGGFzVVhj4Yr52jSmdTyeBHm","owner":"DNfuF1L62WWyW3pNakVkyGGFzVVhj4Yr52jSmdTyeBHm"},"type":"closeAccount"}},{"program":"system","programId":"11111111111111111111111111111111","parsed":{"info":{"destination":"9yMwSPk9mrXSN7yDHUuZurAh1sjbJsfpUqjZ7SvVtdco","lamports":202919469,"source":"DNfuF1L62WWyW3pNakVkyGGFzVVhj4Yr52jSmdTyeBHm"},"type":"transfer"}}],"addressTableLookups":[{"accountKey":"2immgwYNHBbyVQKVGCEkgWpi53bLwWNRMB5G2nbgYV17","writableIndexes":[],"readonlyIndexes":[5,11]}]}},"meta":{"err":null,"status":{"Ok":null},"fee":25005001,"preBalances":[2895667448763,981360,0,7124800,23357760,16258560,2051836885494,2039280,3591360,457104960,457104960,1825496640,2039280,2039280,2039280,6176448138954,1,1141440,1,934087680,727116390798,1141440,13317913530,0,1009200,1141440],"postBalances":[2917685921859,981360,0,7124800,23357760,16258560,2029590487928,2039280,3591360,457104960,457104960,1825496640,2039280,2039280,2039280,6176651058423,1,1141440,1,934087680,727116390798,1141440,13317913530,0,1009200,1141440],"innerInstructions":[{"index":5,"instructions":[{"program":"spl-token","programId":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA","parsed":{"info":{"amount":"240866159688","authority":"DNfuF1L62WWyW3pNakVkyGGFzVVhj4Yr52jSmdTyeBHm","destination":"AwWStWyRDHPqvhfByB7CrcbYKKjkJrcPbhkJxk24oHE8","source":"8G7rb3pXeLcEk2XZ2h7zcYTyC2g3NazGjQRzvr828TNX"},"type":"transfer"}},{"program":"spl-token","programId":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA","parsed":{"info":{"amount":"22246397566","authority":"5Q544fKrFoe6tsEbD7S8EmxGTJYAKtTVhAW5Q5pge4j1","destination":"EYtapYgX8PE9Hg8XQRsQ9RohksfWQXUpotCuDosBbMER","source":"3fumHYiUUGmvkzvhnSbMbC5ZY3TSG5L6an177pEP7sws"},"type":"transfer"}}]}],"logMessages":["Program ComputeBudget111111111111111111111111111111 invoke [1]","Program ComputeBudget111111111111111111111111111111 success","Program ComputeBudget111111111111111111111111111111 invoke [1]","Program ComputeBudget111111111111111111111111111111 success","Program tro46jTMkb56A3wPepo5HT7JcvX9wFWvR8VaJzgdjEf invoke [1]","Program log: Instruction: IncrementNonceAndTimeoutCheck","Program log: Current Timestamp: 1732260661000","Program log: Max Timestamp: 1732260741882","Program tro46jTMkb56A3wPepo5HT7JcvX9wFWvR8VaJzgdjEf consumed 9052 of 73012 compute units","Program tro46jTMkb56A3wPepo5HT7JcvX9wFWvR8VaJzgdjEf success","Program 11111111111111111111111111111111 invoke [1]","Program 11111111111111111111111111111111 success","Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA invoke [1]","Program log: Instruction: InitializeAccount","Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA consumed 3443 of 63810 compute units","Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA success","Program 675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8 invoke [1]","Program log: ray_log: A0jsvRQ4AAAAatdMdgQAAAABAAAAAAAAANU6a88wAgAABhzjut0BAAAhshOb7xMAAH4W/S0FAAAA","Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA invoke [2]","Program log: Instruction: Transfer","Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA consumed 4645 of 41351 compute units","Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA success","Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA invoke [2]","Program log: Instruction: Transfer","Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA consumed 4736 of 33725 compute units","Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA success","Program 675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8 consumed 32455 of 60367 compute units","Program 675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8 success","Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA invoke [1]","Program log: Instruction: CloseAccount","Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA consumed 2915 of 27912 compute units","Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA success","Program 11111111111111111111111111111111 invoke [1]","Program 11111111111111111111111111111111 success"],"preTokenBalances":[{"accountIndex":6,"mint":"So11111111111111111111111111111111111111112","uiTokenAmount":{"uiAmount":2051.834846214,"decimals":9,"amount":"2051834846214","uiAmountString":"2051.834846214"},"owner":"5Q544fKrFoe6tsEbD7S8EmxGTJYAKtTVhAW5Q5pge4j1","programId":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"accountIndex":7,"mint":"AKyVUXwrYPxnt9cf9EQUpRmty6yrW25d3R8R1YVepump","uiTokenAmount":{"uiAmount":21919819.870753,"decimals":6,"amount":"21919819870753","uiAmountString":"21919819.870753"},"owner":"5Q544fKrFoe6tsEbD7S8EmxGTJYAKtTVhAW5Q5pge4j1","programId":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"accountIndex":12,"mint":"So11111111111111111111111111111111111111112","uiTokenAmount":{"uiAmount":null,"decimals":9,"amount":"0","uiAmountString":"0"},"owner":"GWurZbbuzgBe12q8Gxs3u4AtxWjh1w2wpWUsGF6Pykg1","programId":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"accountIndex":13,"mint":"AKyVUXwrYPxnt9cf9EQUpRmty6yrW25d3R8R1YVepump","uiTokenAmount":{"uiAmount":null,"decimals":6,"amount":"0","uiAmountString":"0"},"owner":"GWurZbbuzgBe12q8Gxs3u4AtxWjh1w2wpWUsGF6Pykg1","programId":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"accountIndex":14,"mint":"AKyVUXwrYPxnt9cf9EQUpRmty6yrW25d3R8R1YVepump","uiTokenAmount":{"uiAmount":2408661.596885,"decimals":6,"amount":"2408661596885","uiAmountString":"2408661.596885"},"owner":"DNfuF1L62WWyW3pNakVkyGGFzVVhj4Yr52jSmdTyeBHm","programId":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"postTokenBalances":[{"accountIndex":6,"mint":"So11111111111111111111111111111111111111112","uiTokenAmount":{"uiAmount":2029.588448648,"decimals":9,"amount":"2029588448648","uiAmountString":"2029.588448648"},"owner":"5Q544fKrFoe6tsEbD7S8EmxGTJYAKtTVhAW5Q5pge4j1","programId":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"accountIndex":7,"mint":"AKyVUXwrYPxnt9cf9EQUpRmty6yrW25d3R8R1YVepump","uiTokenAmount":{"uiAmount":22160686.030441,"decimals":6,"amount":"22160686030441","uiAmountString":"22160686.030441"},"owner":"5Q544fKrFoe6tsEbD7S8EmxGTJYAKtTVhAW5Q5pge4j1","programId":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"accountIndex":12,"mint":"So11111111111111111111111111111111111111112","uiTokenAmount":{"uiAmount":null,"decimals":9,"amount":"0","uiAmountString":"0"},"owner":"GWurZbbuzgBe12q8Gxs3u4AtxWjh1w2wpWUsGF6Pykg1","programId":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"accountIndex":13,"mint":"AKyVUXwrYPxnt9cf9EQUpRmty6yrW25d3R8R1YVepump","uiTokenAmount":{"uiAmount":null,"decimals":6,"amount":"0","uiAmountString":"0"},"owner":"GWurZbbuzgBe12q8Gxs3u4AtxWjh1w2wpWUsGF6Pykg1","programId":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"accountIndex":14,"mint":"AKyVUXwrYPxnt9cf9EQUpRmty6yrW25d3R8R1YVepump","uiTokenAmount":{"uiAmount":2167795.437197,"decimals":6,"amount":"2167795437197","uiAmountString":"2167795.437197"},"owner":"DNfuF1L62WWyW3pNakVkyGGFzVVhj4Yr52jSmdTyeBHm","programId":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"rewards":[]},"version":0,"blockTime":1732260661},"id":0}
'''

# 解析JSON数据
transaction_data = json.loads(solana_transaction_json)
transaction_data = transaction_data['result']
# 提取交易签名
signatures = transaction_data['transaction']['signatures']
print(f"交易签名: {signatures}")

# 提取账户信息
account_keys = transaction_data['transaction']['message']['accountKeys']
print(f"账户信息: {account_keys}")

# 提取程序ID和数据
# instructions = transaction_data['transaction']['message']['instructions']
# for instruction in instructions:
#     program_id_index = instruction['programIdIndex']
#     data = instruction['data']
#     print(f"程序ID索引: {program_id_index}, 数据: {data}")

# 提取交易费用
fee = transaction_data['meta']['fee']
print(f"交易费用: {fee}")

# 提取交易前后的账户余额
pre_balances = transaction_data['meta']['preBalances']
post_balances = transaction_data['meta']['postBalances']
print(f"交易前账户余额: {pre_balances}")
print(f"交易后账户余额: {post_balances}")
